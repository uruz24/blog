---
title: nday特训营作业1
date: 2022-12-9
tag: #渗透#复现#教程#nday
---

#### 作业：

复现cms

------------------------------------------------

### 一、dedecms搭建

工具：phpstudy

vps：windows2019

下载源码： https://www.xiuzhanwang.com/dedecms_az/1749.html

这里使用phpstudy搭建工具，下载好的源码放到网站目录里

![image-20221207135455875](2022-12-2-nday训练营作业1.assets/image-20221207135455875.png)

主页文件内添加链接

![image-20221207140143353](2022-12-2-nday训练营作业1.assets/image-20221207140143353.png)

访问主页，选择upload

![image-20221207140340085](2022-12-2-nday训练营作业1.assets/image-20221207140340085.png)

![image-20221207140246594](2022-12-2-nday训练营作业1.assets/image-20221207140246594.png)

![image-20221207140109610](2022-12-2-nday训练营作业1.assets/image-20221207140109610.png)

输入admin admin登录

![image-20221207140455740](2022-12-2-nday训练营作业1.assets/image-20221207140455740.png)



![image-20221207150528562](2022-12-2-nday训练营作业1.assets/image-20221207150528562.png)

![image-20221207160243622](2022-12-2-nday训练营作业1.assets/image-20221207160243622.png)

![image-20221208015040466](2022-12-2-nday训练营作业1.assets/image-20221208015040466.png)

![image-20221208141358681](2022-12-2-nday训练营作业1.assets/image-20221208141358681.png)

![image-20221209102346843](2022-12-2-nday训练营作业1.assets/image-20221209102346843.png)

cms搭建完成，访问网站即可

## 漏洞分析及复现

### 前台任意用户密码修改

### 漏洞成因

在用户密码重置功能处，php存在弱类型比较，导致如果用户没有设置密保问题的情况下可以绕过验证密保问题，直接修改密码(管理员账户默认不设置密保问题)。值得注意的是修改的密码是member表中的密码，即使修改了管理员密码也是member表中的管理员密码，仍是无法进入管理。

### 漏洞复现

首先打开后台管理页面开启会员功能

![image-20221209102845251](2022-12-2-nday训练营作业1.assets/image-20221209102845251.png)

注册一个账户

![image-20221209103220920](2022-12-2-nday训练营作业1.assets/image-20221209103220920.png)

![image-20221209103310331](2022-12-2-nday训练营作业1.assets/image-20221209103310331.png)

![image-20221209103708122](2022-12-2-nday训练营作业1.assets/image-20221209103708122.png)

点击通过安全问题取回

![image-20221209103847943](2022-12-2-nday训练营作业1.assets/image-20221209103847943.png)

![image-20221209104340493](2022-12-2-nday训练营作业1.assets/image-20221209104340493.png)

点下一步抓包，发送repeater

dopost=safequestion&id=1&userid=admin&safequestion=00&safeanswer=0&vdcode=Vs4p

![image-20221209104954544](2022-12-2-nday训练营作业1.assets/image-20221209104954544.png)

![image-20221209105126394](2022-12-2-nday训练营作业1.assets/image-20221209105126394.png)

![image-20221209112002573](2022-12-2-nday训练营作业1.assets/image-20221209112002573.png)

这是正常应该返回到页面，但是我的每次都报错，不知道为撒